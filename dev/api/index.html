<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · DeepViz.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">DeepViz.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">About</a></li><li><a class="tocitem" href="../gs/">Getting Started</a></li><li><a class="tocitem" href="../insights/">Insights</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Primary-Attributions-1"><span>Primary Attributions</span></a></li><li><a class="tocitem" href="#Layer-Based-Attribution-1"><span>Layer Based Attribution</span></a></li><li><a class="tocitem" href="#Others-1"><span>Others</span></a></li></ul></li><li><a class="tocitem" href="../utility/">Utility Function</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li><a class="tocitem" href="../faq/">FAQs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/master/docs/src/api.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference-1"><a class="docs-heading-anchor" href="#API-Reference-1">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-1" title="Permalink"></a></h1><p>The package provides easy implementation of various algorithms, to facilitate model interpretability. Here, in this section, you can find the related documentation with respect to various algorithms available with this package. These will provide a better reference regarding the algorithms and related info. For usage related queries, check out the <code>Usage</code> section.</p><h2 id="Primary-Attributions-1"><a class="docs-heading-anchor" href="#Primary-Attributions-1">Primary Attributions</a><a class="docs-heading-anchor-permalink" href="#Primary-Attributions-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_backprop" href="#DeepViz.viz_backprop"><code>DeepViz.viz_backprop</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_backprop(img, model; top_k=1, target_based=false, target_index)</code></pre><p>Returns gradient generated with Vanilla Backpropagation for <code>top_k</code> classes. It’s the original saliency map algorithm for supervised deep learning from <a href="https://arxiv.org/abs/1312.6034">Simonyan et. al. (2013)</a>. These gradients can further be visualized using utilty functions.</p><p><strong>Arguments</strong></p><ul><li><code>img</code>: source image for which gradients are to be calculated</li><li><code>model</code>: model to be used for visualization</li><li><code>top_k=1</code>: gradients are returned for <code>top_k</code> classes as per predictions by the model.</li><li><code>target_based=false</code>: if set to <code>true</code>, function returns the maximizing gradient for the specified <code>target_index</code> class along with gradient for <code>top_k</code> classes.</li><li><code>target_index</code>: defines the target class, for which the maximizing gradients are to be calculated. Required when <code>target_based</code> is set to <code>true</code>. </li></ul><p>The function returns an of gradients for <code>top_k=1</code> predicted classes by default. If <code>target_based</code> is set to <code>true</code> and <code>target_index</code> is specified, the function returns a tuple: <code>(gradients_for_top_k_classes, gradient_for_target_class)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/vanilla_gradient.jl#LL2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_guidedbackprop" href="#DeepViz.viz_guidedbackprop"><code>DeepViz.viz_guidedbackprop</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_guidedbackprop(img, model; top_k=1, target_based=false, target_index=-1)</code></pre><p>In this method of Gradient visualization, the backpropagation of RELU activation function are overridden (so called Guided RELU) in such a way that only the non-negative gradients are backpropagated. Here, the guided RELU is applied onto the input gradients which stands as the main difference from the <code>viz_deconvolution</code>. Once the activation function is overridden, the gradient is evaluated here using the <code>viz_backprop</code> function.</p><p>Note: The function currently doesn&#39;t support ResNet type models. See also: <a href="#DeepViz.viz_backprop"><code>viz_backprop</code></a>, <a href="#DeepViz.viz_deconvolution"><code>viz_deconvolution</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/guided_backprop.jl#LL63-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_deconvolution" href="#DeepViz.viz_deconvolution"><code>DeepViz.viz_deconvolution</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_deconvolution(img, model; top_k=1, target_based=false, target_index=-1)</code></pre><p>In this method of Gradient visualization, the backpropagation of RELU activation function are overridden (so called Guided RELU) in such a way that only the non-negative gradients are backpropagated. Here, the guided RELU is applied onto the <code>output</code> gradients which stands as the main difference from the <code>viz_guidedbackprop</code>. Once the activation function is overridden, the gradient is evaluated here using the <code>viz_backprop</code> function.</p><p>Note: The function currently doesn&#39;t support ResNet type models. See also: <a href="#DeepViz.viz_backprop"><code>viz_backprop</code></a>, <a href="#DeepViz.viz_guidedbackprop"><code>viz_guidedbackprop</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/guided_backprop.jl#LL85-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_integrated_gradient" href="#DeepViz.viz_integrated_gradient"><code>DeepViz.viz_integrated_gradient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_integrated_gradient(img, model, steps; target_based=false, target_index)</code></pre><p>Produces gradients generated with integrated gradients from the image scaled over <code>steps</code>. This functions uses the <code>viz_backprop</code> for the calculation of gradients for each of scaled image and then returns integrated gradients as the average over all the scaled images.</p><p><strong>Arguments</strong></p><ul><li><code>img</code>: source image on which the gradient are to be calculated.</li><li><code>model</code>: model to be used for visualization</li><li><code>steps</code>: number of steps between 0 to 1.0 for which the image is to be scaled while calculating integrated gradients.</li><li><code>target_based=false</code>: if set <code>true</code>, the integrated gradients are evaluated for the specified <code>target_index</code>.</li><li><code>target_index</code>: index of the target class for which the maximized gradients are to be evaluated. Necessary condition when <code>target_based</code> is set as <code>true</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/vanilla_gradient.jl#LL51-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.grad_times_image" href="#DeepViz.grad_times_image"><code>DeepViz.grad_times_image</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">grad_times_image(img, model; top_k=1)</code></pre><p>An extension to the saliency approach. Returns an array of products of the <code>img</code> with the gradient evaluated with respect to the provided <code>img</code> for the <code>model</code>, for <code>top_k</code> prediction classes. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/smooth_grad.jl#LL36-L40">source</a></section></article><h2 id="Layer-Based-Attribution-1"><a class="docs-heading-anchor" href="#Layer-Based-Attribution-1">Layer Based Attribution</a><a class="docs-heading-anchor-permalink" href="#Layer-Based-Attribution-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_gradcam" href="#DeepViz.viz_gradcam"><code>DeepViz.viz_gradcam</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_gradcam(img, model, layer; top_k=1)</code></pre><p>Layer attribution method that computes the gradients of the target output with respect to the given <code>layer</code>, averages for each output channel (dimension 2 of output), and multiplies the average gradient for each channel by the layer activations. The results are summed over all channels.</p><p>It returns an array of tuples of (<code>gradCAM</code>, <code>prediction_probability</code>, <code>class_index</code>) for <code>top_k</code> predicted classes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/gradcam.jl#LL63-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.viz_guidedgradcam" href="#DeepViz.viz_guidedgradcam"><code>DeepViz.viz_guidedgradcam</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">viz_guidedgradcam(img, model, layer; top_k=1)</code></pre><p>It computes the element-wise product of guided backpropagation attributions (evaluated using <code>viz_guidedbackprop</code>) with resized (layer) GradCAM attributions (computed using <code>viz_gradcam</code>). GradCAM attributions are computed with respect to a given <code>layer</code>, and attributions are resized to match the input size.</p><p>It returns an array of tuples of (<code>guidedgradcam</code>, <code>prediction_probability</code>, <code>class_index</code>) for <code>top_k</code> predicted classes.</p><p>Also see: <a href="#DeepViz.viz_guidedbackprop"><code>viz_guidedbackprop</code></a>, <a href="#DeepViz.viz_guidedgradcam"><code>viz_guidedgradcam</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/gradcam.jl#LL91-L99">source</a></section></article><h2 id="Others-1"><a class="docs-heading-anchor" href="#Others-1">Others</a><a class="docs-heading-anchor-permalink" href="#Others-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DeepViz.smooth_grad" href="#DeepViz.smooth_grad"><code>DeepViz.smooth_grad</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">smooth_grad(img, model; method=viz_backprop,top_k=1, mean=0, var=1, n_imgs=50, normalized_n_scaled=true)</code></pre><p>Method to visually sharpen the gradient based saliency maps. The key idea is to evaluate the average of gradients of images obtained after adding gaussian noise to the original image(<code>img</code>). The results suggest the estimated smoothed gradient, leads to visually more coherent sensitivity maps than the unsmoothed gradient, with the resulting visualization aligning better to the human eye with meaningful features.</p><p><strong>Arguments</strong></p><ul><li><code>img</code>: Original image of interest for visualization</li><li><code>model</code>: Model to be used for visualization</li><li><code>method=viz_backprop</code>: Method to be used while evaluating gradients. Can take methods like <code>viz_guidedbackprop</code>, <code>viz_backprop</code>, <code>viz_deconvolution</code> or any other custom function.</li><li><code>top_k=1</code>: function evaluates the smoothed gradient for <code>top_k</code> predictions just as in case of normal <code>viz_backprop</code> function.</li><li><code>mean=0</code>: Mean of the gaussian noise to be added to the image to generate sample space</li><li><code>var=1</code>: Variance of the gaussian noise to be added to image to generate sample space</li><li><code>n_imgs=50</code>: Number of images to be generated and used in sample space while evaluation of <code>smooth_grad</code>.</li><li><code>normalized_n_scaled=true</code>: if true, then the noise is first scaled to 0-255 before adding to the image. </li></ul><p>Ref: (https://arxiv.org/pdf/1706.03825.pdf)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/smooth_grad.jl#LL3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DeepViz.ImageGenerator" href="#DeepViz.ImageGenerator"><code>DeepViz.ImageGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ImageGenerator(model, target_class)</code></pre><p>Function to initialize the ImageGenerator for the <code>model</code> and <code>target_class</code>. Returns a <code>struct</code> with fields <code>model</code>, <code>img</code> and <code>target</code>. Here, the image is randomly generated which is then to be further updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/image_generation.jl#LL7-L11">source</a></section><section><div><pre><code class="language-none">ImageGenerator(save_dir; img_name = &quot;generated&quot;, niters::Int = 150, lr = 6.0)</code></pre><p>Generates the image for which the prediction probability is maximized for a <code>target class</code> after <code>niter</code> iterations using backpropagation. Before using this function, the ImageGenerator must be initialized using <code>ImageGenerator(model, target_class)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>save_dir</code>: Directory to which the generated image is to be saved </li><li><code>img_name=&quot;generated&quot;</code>: Image name with which file is to be saved withoout file extension</li><li><code>niters::Int=150</code>: number of iterations for which the generated image is updated with backpropagation</li><li><code>lr=6.0</code>: Learning rate to be used while updating the generated image with respect to backpropagated gradients to maximize the specific class.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AdarshKumar712/DeepViz.jl/blob/f0303043d486712aac4b2652742f2ee80825a1df/src/image_generation.jl#LL18-L30">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../insights/">« Insights</a><a class="docs-footer-nextpage" href="../utility/">Utility Function »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 6 June 2020 10:32">Saturday 6 June 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
